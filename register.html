<!DOCTYPE html> 
 <html lang="en"></html>
  <head>
    <title>Contact Library Sign Up</title>
    <link rel="stylesheet" href="css/navbar.css"/>
    <link rel="stylesheet" href="css/register.css"/>
  </head>
  <body>
    <div class="navbar">
      <a href="index.html"><img class="logo" src="images/book1.png" alt="logo"/></a>

      <div>
        <button onclick="location.href = 'login.html';" class="navButtons">Login</button>
        <button onclick="location.href = 'register.html';" class="navButtons">Signup</button>
      </div>
    </div>

    <div class="imgContainer">
      <img class="signupBook" src="images/signup_bg.png" alt="open book" />
    </div>

    <div class="signupContainer">
      <div>
        <h1>Signup</h1>

        <div class="field" id="registerfname">
          <span>First name:</span>
          <input type="text" id="registerfnameInput"/>
        </div>
        <span id="fnRequirement" style="display: none;">*First name must include at least 1 character.</span>

        <div class="field" id="registerlname">
          <span>Last name:</span>
          <input type="text" id="registerlnameInput" />
        </div>
        <span id="lnRequirement" style="display: none;">*Last name must include at least 1 character.</span>

        <div class="field" id="registerUsername">
          <span>Username:</span>
          <input type="text" id="registerUsernameInput" />
        </div>
        <span id="unRequirement" style="display: none;">*Username must include at least 1 character.</span>

        <div class="field" id="registerPassword">
          <span>Password:</span>
          <input type="password" id="registerPasswordInput" />
        </div>

        <div>
          <span id="fnRequirement" style="display: none;">*First name must include at least 1 character.</span>
          <span id="lnRequirement" style="display: none;">*Last name must include at least 1 character.</span>
          <span id="unRequirement" style="display: none;">*Username must include at least 1 character.</span>
        </div>

        <div class="passwordRequirements">
          <span>Password must include:</span>
          <ul>
            <li id="passLen">Between 3 and 20 characters.</li>
            <li id="passComplexity">At least one number and special character.</li>
          </ul>
        </div>

        <button type="button" class="registerButton" onclick="checkRequirements()">Create Account</button>

        <div class="loginMsg">
          <span>Already have an account?</span>
          <a href="login.html">Login</a>
        </div>
      </div>
    </div>

    <script>
      function checkRequirements(){
        let isValid = true;
        let nums = /\d/;
        let specialChars = /[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;

        if(document.getElementById("registerfnameInput").value.trim() === ''){
          document.getElementById("fnRequirement").style.display="block";
          document.getElementById("registerfname").style="background-color: rgba(255,0,0,0.5);";
          document.getElementById("registerfnameInput").style="background-color: rgba(255,0,0,0.1);";
          isValid=false;
        }else{
          document.getElementById("fnRequirement").style.display="none";
          document.getElementById("registerfname").style="background-color: rgba(0,0,0,0);";
          document.getElementById("registerfnameInput").style="background-color: rgba(0,0,0,0);";
        }

        if(document.getElementById("registerlnameInput").value.trim() === ''){
          document.getElementById("lnRequirement").style.display="block";
          document.getElementById("registerlname").style="background-color: rgba(255,0,0,0.5);";
          document.getElementById("registerlnameInput").style="background-color: rgba(255,0,0,0.1);";
          isValid=false;
        }else{
          document.getElementById("lnRequirement").style.display="none";
          document.getElementById("registerlname").style="background-color: rgba(0,0,0,0);";
          document.getElementById("registerlnameInput").style="background-color: rgba(0,0,0,0);";
        }

        if(document.getElementById("registerUsernameInput").value.trim() === ''){
          document.getElementById("unRequirement").style.display="block";
          document.getElementById("registerUsername").style="background-color: rgba(255,0,0,0.5);";
          document.getElementById("registerUsernameInput").style="background-color: rgba(255,0,0,0.1);";
          isValid=false;
        }else{
          document.getElementById("unRequirement").style.display="none";
          document.getElementById("registerUsername").style="background-color: rgba(0,0,0,0);";
          document.getElementById("registerUsernameInput").style="background-color: rgba(0,0,0,0);";
        }

        if(document.getElementById("registerPasswordInput").value.length < 3 || 
        document.getElementById("registerPasswordInput").value.length > 20){
          document.getElementById("passLen").style="background-color: rgba(255,0,0,0.5);";
          document.getElementById("registerPassword").style="background-color: rgba(255,0,0,0.5);";
          document.getElementById("registerPasswordInput").style="background-color: rgba(255,0,0,0.1);";
          isValid=false;
        }else{
          document.getElementById("passLen").style="background-color: rgba(0,0,0,0);";
          document.getElementById("registerPassword").style="background-color: rgba(0,0,0,0);";
          document.getElementById("registerPasswordInput").style="background-color: rgba(0,0,0,0);";
        }

        if(!nums.test(document.getElementById("registerPasswordInput").value.trim()) || 
        !specialChars.test(document.getElementById("registerPasswordInput").value.trim())){
          document.getElementById("passComplexity").style="background-color: rgba(255,0,0,0.5);";
          document.getElementById("registerPassword").style="background-color: rgba(255,0,0,0.5);";
          document.getElementById("registerPasswordInput").style="background-color: rgba(255,0,0,0.1);";
          isValid=false;
        }else{
          document.getElementById("passComplexity").style="background-color: rgba(0,0,0,0);";
        }

        if(isValid){
          return;
        }else{
          //doLogin();
        }
      }
    </script>
  </body>
</html>
